(this["webpackJsonpgame_collection-ui"]=this["webpackJsonpgame_collection-ui"]||[]).push([[0],{23:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),o=a.n(r),i=(a(28),a(29),a(12)),c=a(10),s=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Home"),l.a.createElement(i.b,{to:"/BoardGames",class:"link"},"Board Games"))},m=a(6),u=a(7),d=a(2),h=a(9),p=a(8),b=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={name:"",num_players_max:"",num_players_min:1,desc:""},n.addBoardGame=n.addBoardGame.bind(Object(d.a)(n)),n.handleName=n.handleName.bind(Object(d.a)(n)),n.handleMax=n.handleMax.bind(Object(d.a)(n)),n.handleMin=n.handleMin.bind(Object(d.a)(n)),n.handleDesc=n.handleDesc.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"addBoardGame",value:function(e){e.preventDefault(),fetch("".concat("","/api/board_games"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([this.state])}).then(this.props.getBoardGames)}},{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleMax",value:function(e){this.setState({num_players_max:e.target.value})}},{key:"handleMin",value:function(e){this.setState({num_players_min:e.target.value})}},{key:"handleDesc",value:function(e){this.setState({desc:e.target.value})}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.addBoardGame},l.a.createElement("input",{type:"text",placeholder:"Name of Board Game",onChange:this.handleName,required:!0}),l.a.createElement("input",{type:"number",placeholder:"Minimun Players",min:"1",onChange:this.handleMin,required:!0}),l.a.createElement("input",{type:"number",placeholder:"Max Players",min:this.state.num_players_min,onChange:this.handleMax,required:!0}),l.a.createElement("input",{type:"text",placeholder:"Game Description",onChange:this.handleDesc,required:!0}),l.a.createElement("input",{type:"submit",value:"Add Board Game"}))}}]),a}(l.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={_id:n.props._id,canDelete:!1},n.deleteBoardGame=n.deleteBoardGame.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"deleteBoardGame",value:function(e){var t=this;e.preventDefault();var a=window.confirm("Are you sure you want to delete this game");console.log(a),this.setState({canDelete:a},(function(){t.state.canDelete&&fetch("".concat("","/api/board_games/").concat(t.state._id),{method:"DELETE"}).then(t.props.getBoardGames)}))}},{key:"render",value:function(){return l.a.createElement("button",{onClick:this.deleteBoardGame},"Delete")}}]),a}(l.a.Component),y=a(22),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={keyToUpdate:"name",typeInput:"text",_id:"",value:""},n.handleSelection=n.handleSelection.bind(Object(d.a)(n)),n.handleID=n.handleID.bind(Object(d.a)(n)),n.handleValue=n.handleValue.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"handleSelection",value:function(e){var t=this;this.setState({keyToUpdate:e.target.value},(function(){"name"===t.state.keyToUpdate||"desc"===t.state.keyToUpdate?t.setState({typeInput:"text"}):t.setState({typeInput:"number"})}))}},{key:"handleID",value:function(e){this.setState({_id:e.target.value})}},{key:"handleValue",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=Object(y.a)({},this.state.keyToUpdate,this.state.value);console.log(this.state._id),fetch("".concat("","/api/board_games/").concat(this.state._id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then(this.props.getBoardGames)}},{key:"render",value:function(){var e=l.a.createElement("input",{type:this.state.typeInput,placeholder:"Update value to",onChange:this.handleValue,min:"1"});return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("input",{type:"text",placeholder:"Game ID to Update",onChange:this.handleID,required:!0}),l.a.createElement("label",{htmlFor:"key"},"Select value to update: "),l.a.createElement("select",{id:"key",onChange:this.handleSelection},l.a.createElement("option",{value:"name"},"Game Name"),l.a.createElement("option",{value:"num_players_min"},"Minimun Players"),l.a.createElement("option",{value:"num_players_max"},"Max Players"),l.a.createElement("option",{value:"desc"},"Game Description")),e,l.a.createElement("input",{type:"submit",value:"Update"}))}}]),a}(l.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={boardGames:[]},n.getBoardGames=n.getBoardGames.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"getBoardGames",value:function(){var e=this;console.log("Called getBoardGames"),fetch("".concat("","/api/board_games")).then((function(e){return e.json()})).then((function(t){return e.setState({boardGames:t},(function(){return console.log(e.state.boardGames)}))})).catch(console.log)}},{key:"componentDidMount",value:function(){this.getBoardGames()}},{key:"render",value:function(){var e=this,t=this.state.boardGames.map((function(t){return l.a.createElement("li",null,l.a.createElement("h3",null,t.name)," ",l.a.createElement(v,{_id:t._id,getBoardGames:e.getBoardGames}),l.a.createElement("ul",null,l.a.createElement("li",{class:"GameItem"},"Description: ",t.desc),l.a.createElement("li",{class:"GameItem"},"Id: ",t._id),l.a.createElement("li",{class:"GameItem"},"Players: ",t.num_players_min,"-",t.num_players_max)))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Board Games"),l.a.createElement(i.b,{to:"/",class:"link"},"Back to Home"),l.a.createElement("h2",null,"Add Board Game"),l.a.createElement(b,{getBoardGames:this.getBoardGames}),l.a.createElement("h2",null,"Update Board Game"),l.a.createElement(f,{getBoardGames:this.getBoardGames}),l.a.createElement("h2",null,"List of Board Games"),l.a.createElement("button",{onClick:this.getBoardGames},"Refresh Board Games"),l.a.createElement("ul",null,t))}}]),a}(l.a.Component);var E=function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/BoardGames"},l.a.createElement(g,null)),l.a.createElement(c.a,{path:"/",exact:!0},l.a.createElement(s,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.062c05d7.chunk.js.map